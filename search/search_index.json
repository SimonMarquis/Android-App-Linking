{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Android App Linking","text":"<p>The ultimate developer guide to Android application linking methods</p> <p>The main objectives of this guide are to explore the most common deeplinking methods available on Android and evaluate their pros and cons. The source code of the AppLinks Android app is available on the corresponding GitHub repository.</p> Method Link App not installed Offline Referrer Deeplink Deferred deeplink Web url Test \u274c \u2714\ufe0f \u274c \u2714\ufe0f \u274c App Links Test \u274c \u2714\ufe0f \u274c \u2714\ufe0f \u274c Custom scheme Test \u274c \u2714\ufe0f \u274c \u2714\ufe0f \u274c Intent scheme Test \u2714\ufe0f \u2714\ufe0f \u2714\ufe0f \u2714\ufe0f \u274c App scheme Test \u2714\ufe0f \u2714\ufe0f \u2714\ufe0f \u2714\ufe0f \u274c \u26a0\ufe0f Firebase Dynamic Links Test \u2714\ufe0f \u274c \u274c \u2714\ufe0f \u2714\ufe0f Play Store url Test \u2714\ufe0f \u2714\ufe0f \u2714\ufe0f \u274c \u2714\ufe0f Market scheme Test \u2714\ufe0f \u2714\ufe0f \u2714\ufe0f \u2714\ufe0f \u2714\ufe0f"},{"location":"app-links/","title":"App Links","text":"<p>Documentation</p> <p>https://developer.android.com/training/app-links/verify-android-applinks</p> <p><code>https://smarquis.fr/action?key=value#data</code></p> <p>A JSON verification file needs to be available at https://smarquis.fr/.well-known/assetlinks.json containing the application's package name and keystore fingerprint</p> /.well-known/assetlinks.json<pre><code>[\n    {\n        \"relation\": [\n            \"delegate_permission/common.handle_all_urls\"\n        ],\n        \"target\": {\n            \"namespace\": \"android_app\",\n            \"package_name\": \"fr.smarquis.applinks\",\n            \"sha256_cert_fingerprints\": [\n                \"6B:41:26:A6:1E:D8:BD:91:D3:8B:57:10:5F:07:5C:2D:AB:3E:26:A4:D1:3C:9C:97:15:78:9E:0D:56:0A:CE:DC\"\n            ]\n        }\n    }\n]\n</code></pre> <p>To test an existing statement file, you can use the official Statement List Generator and Tester tool.</p> <p>During app install/update, an Android <code>Service</code> will verify if the App Links configuration complies with the server side <code>assetlinks.json</code> file. The results will be sent to logcat:</p> Logcat Android 12+Android 11 Success <pre><code>AppLinksAsyncVerifierV2  I  Verification result: checking for a statement with source https://smarquis.fr, relation delegate_permission/common.handle_all_urls, and target fr.smarquis.applinks --&gt; true. [CONTEXT service_id=244 ]\nAppLinksHostsVerifierV2  I  Verification fr.smarquis.applinks complete. Successful hosts: smarquis.fr. Failed hosts: . Error hosts: . [CONTEXT service_id=244 ]\n</code></pre> Failure <pre><code>AppLinksAsyncVerifierV2  I  Verification result: checking for a statement with source https://smarquis.fr, relation delegate_permission/common.handle_all_urls, and target fr.smarquis.applinks --&gt; false. [CONTEXT service_id=244 ]\nAppLinksHostsVerifierV2  I  Verification fr.smarquis.applinks complete. Successful hosts: . Failed hosts: smarquis.fr. Error hosts: . [CONTEXT service_id=244 ]\n</code></pre> Success <pre><code>I/IntentFilterIntentSvc: Verifying IntentFilter. verificationId:0 scheme:\"https\" hosts:\"smarquis.fr\" package:\"fr.smarquis.applinks\".\nI/SingleHostAsyncVerifier: Verification result: checking for a statement with source a &lt;\n                             a: \"https://smarquis.fr\"\n                           &gt;\n                           , relation delegate_permission/common.handle_all_urls, and target b &lt;\n                             a: \"fr.smarquis.applinks\"\n                             b &lt;\n                               a: \"D2:18:2B:0E:34:38:3B:FD:A7:80:AC:21:88:F1:F7:1F:13:33:AD:CB:E3:94:2A:75:96:FB:A1:7A:0B:6B:CE:68\"\n                             &gt;\n                           &gt;\n                            --&gt; true.\nI/IntentFilterIntentSvc: Verification 0 complete. Success:true. Failed hosts:.\n</code></pre> Failure <pre><code>I/IntentFilterIntentSvc: Verifying IntentFilter. verificationId:1 scheme:\"https\" hosts:\"smarquis.fr\" package:\"fr.smarquis.applinks\".\nI/SingleHostAsyncVerifier: Verification result: checking for a statement with source a &lt;\n                             a: \"https://smarquis.fr\"\n                           &gt;\n                           , relation delegate_permission/common.handle_all_urls, and target b &lt;\n                             a: \"fr.smarquis.applinks\"\n                             b &lt;\n                               a: \"D2:18:2B:0E:34:38:3B:FD:A7:80:AC:21:88:F1:F7:1F:13:33:AD:CB:E3:94:2A:75:96:FB:A1:7A:0B:6B:CE:68\"\n                             &gt;\n                           &gt;\n                            --&gt; false.\nI/IntentFilterIntentSvc: Verification 1 complete. Success:false. Failed hosts:smarquis.fr.\n</code></pre>"},{"location":"app-links/#android","title":"\ud83e\udd16 Android","text":"<p>Same as Web url but with <code>https</code> only and <code>android:autoVerify=\"true\"</code> attribute.  </p> AndroidManifest.xml<pre><code>&lt;activity android:name=\".MainActivity\"&gt;\n    &lt;intent-filter\n        android:autoVerify=\"true\"\n        tools:targetApi=\"m\"&gt;\n        &lt;action android:name=\"android.intent.action.VIEW\" /&gt;\n\n        &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n        &lt;category android:name=\"android.intent.category.BROWSABLE\" /&gt;\n        &lt;data\n            android:scheme=\"https\"\n            android:host=\"smarquis.fr\"\n            android:pathPattern=\"/action\" /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>"},{"location":"app-links/#data","title":"\ud83d\udce6 Data","text":"Uri Value scheme <code>https</code> host <code>smarquis.fr</code> path <code>/action</code> query <code>?key=value</code> fragment <code>data</code>"},{"location":"app-links/#features","title":"\u2699\ufe0f Features","text":"Feature \u2714\ufe0f/\u274c App not installed \u274c Offline \u2714\ufe0f Referrer \u274c Deeplink \u2714\ufe0f Deferred deeplink \u274c"},{"location":"app-links/#pros-and-cons","title":"\ud83d\udcc8 Pros and Cons","text":"<p>\u2795 No more disambiguation dialog \u2795 No potential app hijacking \u2796 Doesn't work on the same domain \u2796 Some (in-app) browsers might directly handle these links and prevent the app to launch  </p>"},{"location":"app-links/#demo","title":"\ud83d\udcf9 Demo","text":""},{"location":"app-scheme/","title":"App scheme","text":"<p>Documentation</p> <p>https://developer.android.com/reference/android/content/Intent.html#URI_ANDROID_APP_SCHEME</p> <p><code>android-app://fr.smarquis.applinks/https/smarquis.fr/action?key=value#data#Intent;S.key=value;S.market_referrer=my%20referrer%20data;end</code></p> <p>Very similar to Intent scheme.</p>"},{"location":"app-scheme/#web","title":"\ud83c\udf0d Web","text":"<p>Extra parameters can be added to the link and will be transfered as extras <code>Bundle</code> in the <code>Intent</code>:</p> <ul> <li>String: <code>S.key=value</code></li> <li>Boolean: <code>B.key=value</code></li> <li>Integer: <code>i.key=value</code></li> <li>Long: <code>l.key=value</code></li> <li>Float: <code>f.key=value</code></li> </ul> <p>More:</p> <ul> <li><code>S.market_referrer</code> will trigger a <code>com.android.vending.INSTALL_REFERRER</code> Broadcast once the app is installed.</li> </ul>"},{"location":"app-scheme/#android","title":"\ud83e\udd16 Android","text":"<p>The url will be rewritten by the parseUri() method from the Android source code. The new url will be <code>https://smarquis.fr/action?key=value#data</code></p> <p>And will contain additional parameters in the <code>Intent</code>.  </p>"},{"location":"app-scheme/#data","title":"\ud83d\udce6 Data","text":"Uri Value scheme <code>https</code> host <code>smarquis.fr</code> path <code>/action</code> query <code>?key=value</code> fragment <code>data</code> Extra Value <code>key</code> <code>value</code> <code>market_referrer</code> <code>my referrer data</code> Referrer <code>my referrer data</code>"},{"location":"app-scheme/#features","title":"\u2699\ufe0f Features","text":"Feature \u2714\ufe0f/\u274c App not installed \u2714\ufe0f Offline \u2714\ufe0f Referrer \u2714\ufe0f Deeplink \u2714\ufe0f Deferred deeplink \u274c"},{"location":"app-scheme/#pros-and-cons","title":"\ud83d\udcc8 Pros and Cons","text":"<p>\u2796 Some browsers don't handle non-http links  </p>"},{"location":"app-scheme/#demo","title":"\ud83d\udcf9 Demo","text":""},{"location":"custom-scheme/","title":"Custom scheme","text":"<p>Documentation</p> <p>https://developer.android.com/training/app-links/deep-linking.html</p> <p><code>link://smarquis.fr/action?key=value#data</code></p>"},{"location":"custom-scheme/#android","title":"\ud83e\udd16 Android","text":"AndroidManifest.xml<pre><code>&lt;activity android:name=\".MainActivity\"&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"android.intent.action.VIEW\" /&gt;\n\n        &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n        &lt;category android:name=\"android.intent.category.BROWSABLE\" /&gt;\n\n        &lt;data android:scheme=\"link\" /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>"},{"location":"custom-scheme/#data","title":"\ud83d\udce6 Data","text":"Uri Value scheme <code>link</code> host <code>smarquis.fr</code> path <code>/action</code> query <code>?key=value</code> fragment <code>data</code>"},{"location":"custom-scheme/#features","title":"\u2699\ufe0f Features","text":"Feature \u2714\ufe0f/\u274c App not installed \u274c Offline \u2714\ufe0f Referrer \u274c Deeplink \u2714\ufe0f Deferred deeplink \u274c"},{"location":"custom-scheme/#pros-and-cons","title":"\ud83d\udcc8 Pros and Cons","text":"<p>\u2796 Some browsers don't handle non-http links  </p>"},{"location":"custom-scheme/#demo","title":"\ud83d\udcf9 Demo","text":""},{"location":"firebase-dynamic-links/","title":"Firebase Dynamic Links","text":"<p>Documentation</p> <p>https://firebase.google.com/docs/dynamic-links</p> <p>Dynamic Links Deprecation FAQ</p> <p>https://firebase.google.com/support/dynamic-links-faq</p> <p><code>https://mr7f2.app.goo.gl/Tbeh</code></p>"},{"location":"firebase-dynamic-links/#web","title":"\ud83c\udf0d Web","text":"<p>Create the link from the Firebase console.</p> <p> </p> Click to debug the Firebase Dynamic Link"},{"location":"firebase-dynamic-links/#android","title":"\ud83e\udd16 Android","text":"<p>Same requirements as App Links. And add the Firebase Dynamic Links dependency in the app-level Gradle build file:</p> app/build.gradle.kts<pre><code>implementation platform('com.google.firebase:firebase-bom:&lt;version&gt;')\nimplementation(\"com.google.firebase:firebase-dynamic-links-ktx\")\n</code></pre> <p>Then in your <code>Activity</code>'s <code>onCreate</code> method, use this code to get the link if the user came from a Firebase Dynamic Link:</p> <pre><code>FirebaseDynamicLinks.getInstance()\n    .getDynamicLink(intent)\n    .addOnSuccessListener(this) {\n        val uri: Uri? = it.link\n    }\n</code></pre>"},{"location":"firebase-dynamic-links/#data","title":"\ud83d\udce6 Data","text":"Uri Value scheme <code>https</code> host <code>smarquis.fr</code> path <code>/action</code> query <code>?key=value</code> fragment <code>data</code>"},{"location":"firebase-dynamic-links/#features","title":"\u2699\ufe0f Features","text":"Feature \u2714\ufe0f/\u274c App not installed \u2714\ufe0f Offline \u274c Referrer \u274c Deeplink \u2714\ufe0f Deferred deeplink \u2714\ufe0f"},{"location":"firebase-dynamic-links/#pros-and-cons","title":"\ud83d\udcc8 Pros and Cons","text":"<p>\u2795 Shorten urls https://mr7f2.app.goo.gl/Tbeh?d=1 \u2796 Ugly progress dialog when fetching link data  </p>"},{"location":"firebase-dynamic-links/#demo","title":"\ud83d\udcf9 Demo","text":""},{"location":"intent-scheme/","title":"Intent scheme","text":"<p>Documentation</p> <p>https://developer.chrome.com/multidevice/android/intents</p> <p><code>intent://smarquis.fr/action?key=value#data#Intent;scheme=link;package=fr.smarquis.applinks;S.key=value;S.market_referrer=my%20referrer%20data;end</code></p>"},{"location":"intent-scheme/#web","title":"\ud83c\udf0d Web","text":"<p>Extra parameters can be added to the link and will be transfered as extras <code>Bundle</code> in the <code>Intent</code>:</p> <ul> <li>String: <code>S.key=value</code></li> <li>Boolean: <code>B.key=value</code></li> <li>Integer: <code>i.key=value</code></li> <li>Long: <code>l.key=value</code></li> <li>Float: <code>f.key=value</code></li> </ul> <p>More:</p> <ul> <li><code>S.browser_fallback_url</code> is the fallback URL if the corresponding link doesn't work of if app isn't available (will be removed from the <code>Intent</code>).</li> <li><code>S.market_referrer</code> will trigger a <code>com.android.vending.INSTALL_REFERRER</code> Broadcast once the app is installed.</li> </ul>"},{"location":"intent-scheme/#android","title":"\ud83e\udd16 Android","text":"<p>The url will be rewritten by the parseUri() method from the Android source code. The new url will be <code>link://smarquis.fr/action?key=value#data</code></p> <p>And will contain additional parameters in the <code>Intent</code>.  </p>"},{"location":"intent-scheme/#data","title":"\ud83d\udce6 Data","text":"Uri Value scheme <code>link</code> host <code>smarquis.fr</code> path <code>/action</code> query <code>?key=value</code> fragment <code>data</code> Extra Value <code>key</code> <code>value</code> <code>market_referrer</code> <code>my referrer data</code> Referrer <code>my referrer data</code>"},{"location":"intent-scheme/#features","title":"\u2699\ufe0f Features","text":"Feature \u2714\ufe0f/\u274c App not installed \u2714\ufe0f Offline \u2714\ufe0f Referrer \u2714\ufe0f Deeplink \u2714\ufe0f Deferred deeplink \u274c"},{"location":"intent-scheme/#pros-and-cons","title":"\ud83d\udcc8 Pros and Cons","text":"<p>\u2796 Some browsers don't handle non-http links  </p>"},{"location":"intent-scheme/#demo","title":"\ud83d\udcf9 Demo","text":""},{"location":"market-scheme/","title":"Market scheme","text":"<p>Documentation</p> <p>https://developer.android.com/distribute/marketing-tools/linking-to-google-play.html#UriSummary</p> <p><code>market://details?id=fr.smarquis.applinks&amp;url=link%3A%2F%2Fsmarquis.fr%2Faction%3Fkey%3Dvalue%23data&amp;referrer=my%20referrer%20data</code></p>"},{"location":"market-scheme/#web","title":"\ud83c\udf0d Web","text":"<p>This url contains additional query parameters that will be handled by the Play Store app:</p> <ul> <li><code>url</code> is the forwarded url</li> <li><code>referrer</code> will trigger a <code>com.android.vending.INSTALL_REFERRER</code> Broadcast once the app is installed.</li> </ul>"},{"location":"market-scheme/#android","title":"\ud83e\udd16 Android","text":"<p>The url will be rewritten by the Play Store to <code>link://smarquis.fr/action?key=value#data</code></p>"},{"location":"market-scheme/#data","title":"\ud83d\udce6 Data","text":"Uri Value scheme <code>link</code> host <code>smarquis.fr</code> path <code>/action</code> query <code>?key=value</code> fragment <code>data</code> Referrer <code>my referrer data</code>"},{"location":"market-scheme/#features","title":"\u2699\ufe0f Features","text":"Feature \u2714\ufe0f/\u274c App not installed \u2714\ufe0f Offline \u2714\ufe0f Referrer \u2714\ufe0f Deeplink \u2714\ufe0f Deferred deeplink \u2714\ufe0f"},{"location":"market-scheme/#pros-and-cons","title":"\ud83d\udcc8 Pros and Cons","text":"<p>\u2795 Changes the \"Open\" button in Play Store to \"Continue\" \u2795 Triggers a notification with \"Tap to continue\"  </p> <p> </p>"},{"location":"market-scheme/#demo","title":"\ud83d\udcf9 Demo","text":""},{"location":"misc/","title":"Misc","text":""},{"location":"misc/#referrer-receiver","title":"Referrer Receiver","text":"<p>Add the Broadcast Receiver in <code>AndroidManifest.xml</code></p> AndroidManifest.xml<pre><code>&lt;receiver\n    android:name=\".ReferrerReceiver\"\n    android:exported=\"true\"&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"com.android.vending.INSTALL_REFERRER\" /&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre> <p>And in the Receiver's <code>onReceive()</code> method, you can get the referrer value</p> ReferrerReceiver.kt<pre><code>class ReferrerReceiver : BroadcastReceiver() {\n    override fun onReceive(context: Context, intent: Intent) {\n        val referrer: String? = referrer = intent.extras.getString(\"referrer\")\n    }\n}\n</code></pre>"},{"location":"misc/#deeplinking","title":"Deeplinking","text":"<p>You can get the deeplink <code>Uri</code> in your <code>Activity</code>'s <code>onCreate()</code> method as well as the corresponding properties:</p> MainActivity.kt<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    val deeplink = intent.data\n    if (deeplink != null) {\n        val host = deeplink.host\n        val path = deeplink.path\n        val query = deeplink.query\n        val fragment = deeplink.fragment\n    }\n}\n</code></pre>"},{"location":"misc/#deferred-deeplink","title":"Deferred deeplink","text":"<p>When using Play Store url or Market scheme or Firebase Dynamic Links methods, the regular Play Store Open button will be replaced by a Continue button. Furthermore, a notification will be displayed with Tap to continue content. These two actions are essential to the Deferred deeplink method as they provide the initial data to the app.  </p> Regular Deeplink Deferred Deeplink"},{"location":"misc/#url-redirections","title":"Url redirections","text":"<ul> <li>HTML regular <code>href</code> link   <pre><code>&lt;a href=\"${link}\"&gt;Click here&lt;/a&gt;\n</code></pre></li> <li>Javascript manual redirect   <pre><code>window.location = \"${link}\";\n</code></pre></li> <li>Javascript automatic redirect   <pre><code>window.onload = function() {\n  window.location.replace(\"${link}\");\n};\n</code></pre></li> <li>Server 3XX redirection (php, nginx, etc.)   <pre><code>header(\"Location: ${link}\");\n</code></pre></li> </ul>"},{"location":"misc/#adb-activity-manager","title":"Adb Activity Manager","text":"<p>To try links with adb, use the Activity Manager (am) command:</p> <pre><code>$ adb shell 'am start \"link://smarquis.fr/action?key=value#data\"'\n</code></pre>"},{"location":"misc/#alternatives","title":"Alternatives","text":"<ul> <li>Branch</li> <li>HOKO</li> <li>Yozio</li> <li>Tapstream</li> </ul>"},{"location":"play-store-url/","title":"Play Store url","text":"<p>Documentation</p> <p>https://developer.android.com/distribute/marketing-tools/linking-to-google-play.html#UriSummary</p> <p><code>https://play.google.com/store/apps/details?id=fr.smarquis.applinks&amp;url=link%3A%2F%2Fsmarquis.fr%2Faction%3Fkey%3Dvalue%23data&amp;referrer=my%20referrer%20data</code></p> <p>Very similar to the Market scheme.</p>"},{"location":"play-store-url/#web","title":"\ud83c\udf0d Web","text":"<p>This url contains additional query parameters that will be handled by the Play Store app:</p> <ul> <li><code>url</code> is the forwarded url</li> <li><code>referrer</code> will trigger a <code>com.android.vending.INSTALL_REFERRER</code> Broadcast once the app is installed.</li> </ul>"},{"location":"play-store-url/#android","title":"\ud83e\udd16 Android","text":"<p>The url will be rewritten by the Play Store to <code>link://smarquis.fr/action?key=value#data</code></p>"},{"location":"play-store-url/#data","title":"\ud83d\udce6 Data","text":"<p>Uri available in deferred deeplink only</p> Uri Value scheme <code>link</code> host <code>smarquis.fr</code> path <code>/action</code> query <code>?key=value</code> fragment <code>data</code> Referrer <code>my referrer data</code>"},{"location":"play-store-url/#features","title":"\u2699\ufe0f Features","text":"Feature \u2714\ufe0f/\u274c App not installed \u2714\ufe0f Offline \u2714\ufe0f Referrer \u2714\ufe0f Deeplink \u274c Deferred deeplink \u2714\ufe0f"},{"location":"play-store-url/#pros-and-cons","title":"\ud83d\udcc8 Pros and Cons","text":"<p>\u2795 Changes the \"Open\" button in Play Store to \"Continue\" \u2795 Triggers a notification with \"Tap to continue\" \u2796 Some (in-app) browsers might directly handle these links and prevent the Play Store app to launch \u2796 When app is installed, it still opens the Play Store app and completely ignores the deeplink  </p>"},{"location":"play-store-url/#demo","title":"\ud83d\udcf9 Demo","text":""},{"location":"web-url/","title":"Web url","text":"<p>Documentation</p> <p>https://developer.android.com/training/app-links/deep-linking.html</p> <p><code>http://smarquis.fr/action?key=value#data</code></p>"},{"location":"web-url/#android","title":"\ud83e\udd16 Android","text":"AndroidManifest.xml<pre><code>&lt;activity android:name=\".MainActivity\"&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"android.intent.action.VIEW\" /&gt;\n\n        &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n        &lt;category android:name=\"android.intent.category.BROWSABLE\" /&gt;\n\n        &lt;data\n            android:scheme=\"http\"\n            android:host=\"smarquis.fr\"\n            android:pathPattern=\"/action\" /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>"},{"location":"web-url/#data","title":"\ud83d\udce6 Data","text":"Uri Value scheme <code>http</code> host <code>smarquis.fr</code> path <code>/action</code> query <code>?key=value</code> fragment <code>data</code>"},{"location":"web-url/#features","title":"\u2699\ufe0f Features","text":"Feature \u2714\ufe0f/\u274c App not installed \u274c Offline \u2714\ufe0f Referrer \u274c Deeplink \u2714\ufe0f Deferred deeplink \u274c"},{"location":"web-url/#pros-and-cons","title":"\ud83d\udcc8 Pros and Cons","text":"<p>\u2796 Initial disambiguation dialog \u2796 Doesn't work on the same domain \u2796 Some (in-app) browsers might directly handle these links and prevent the app to launch  </p> <p></p>"},{"location":"web-url/#demo","title":"\ud83d\udcf9 Demo","text":""}]}